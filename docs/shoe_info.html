<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME405 Library: The Shoe of Brian</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ME405-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME405 Library
   &#160;<span id="projectnumber">Version 0.38</span>
   </div>
   <div id="projectbrief">Python library in support of ME405 class</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('shoe_info.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">The Shoe of Brian </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page describes the "shoe" circuit board at the bottom of an ME405 board stack.</p>
<h1><a class="anchor" id="get_sob"></a>
Obtaining a Shoe Board</h1>
<p>The Shoe is an open source project hosted at OSHPark.com under the following link:</p>
<p><a href="https://oshpark.com/shared_projects/e6X6OnYK">https://oshpark.com/shared_projects/e6X6OnYK</a></p>
<p>A board can be ordered directly from OSHPark or you can download the <code></code>.brd file, make a set of Gerber files, and have another vendor fabricate the boards.</p>
<h1><a class="anchor" id="parts_sob"></a>
Parts</h1>
<p>The following parts are needed for basic function of the board. Note that the 0805 package is a surface-mount part in 0805 size. The resistors and ferrite bead are generic and do not need close tolerances, and substitution is fine. All the parts are available from multiple vendors and the given part numbers are given for convenience only. The priciest parts are the screw terminal blocks, and shopping around for a better price on these can pay off; price shopping for the resistors would be pretty silly, though. The vendor information was current as of early 2018 and may have changed by the time you read this. <br  />
 </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Quantity   </th><th class="markdownTableHeadLeft">Part   </th><th class="markdownTableHeadLeft">Value   </th><th class="markdownTableHeadLeft">Package   </th><th class="markdownTableHeadLeft">Vendor Part Number    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyLeft">Resistor   </td><td class="markdownTableBodyLeft">560 ohm   </td><td class="markdownTableBodyLeft">0805   </td><td class="markdownTableBodyLeft">DigiKey 311-560CRCT-ND    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft">Mouser 667-ERJ-6GEYJ561V    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyLeft">Resistor   </td><td class="markdownTableBodyLeft">4.7 K   </td><td class="markdownTableBodyLeft">0805   </td><td class="markdownTableBodyLeft">Mouser 667-ERJ-6GEYJ472V    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyLeft">2x19 Header, female   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Mouser 517-929975-01-19-RK    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft">DigiKey 929975E-01-19-NDâ€Ž    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Ferrite bead   </td><td class="markdownTableBodyLeft">30-100 ohm at 1MHz   </td><td class="markdownTableBodyLeft">0805   </td><td class="markdownTableBodyLeft">DigiKey MH2029-300YCT-ND    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyLeft">Screw terminal block   </td><td class="markdownTableBodyLeft">10 pos.   </td><td class="markdownTableBodyLeft">2.54mm spacing   </td><td class="markdownTableBodyLeft">AdaFruit 2142    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft">Mouser 651-1725737    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Screw terminal block   </td><td class="markdownTableBodyLeft">5 pos.   </td><td class="markdownTableBodyLeft">2.54mm spacing   </td><td class="markdownTableBodyLeft">AdaFruit 2139    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft">Mouser 651-1725685    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Mini USB B connector   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">Mouser 710-65100516121   </td></tr>
</table>
<p>The following additional parts may be optionally added to use board features such as the Micro SD card socket and IMU. <b>Warning:</b> The IMU is in a really small package without pins and is very hard to solder without going blind. <b>Also:</b> The Micro SD card socket footrint on this board is an older Molex design which can be hard to match, as the part for which this version of the board was designed has been (rudely) discontinued. <br  />
 </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Quantity   </th><th class="markdownTableHeadLeft">Part   </th><th class="markdownTableHeadLeft">Value   </th><th class="markdownTableHeadLeft">Package    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Micro SD connector   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyLeft">Resistor   </td><td class="markdownTableBodyLeft">560 ohm   </td><td class="markdownTableBodyLeft">0805    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">9-Axis IMU   </td><td class="markdownTableBodyLeft">LSM9DS1   </td><td class="markdownTableBodyLeft">LGA24-8X4    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Capacitor   </td><td class="markdownTableBodyLeft">0.1 uF   </td><td class="markdownTableBodyLeft">0805    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Capacitor   </td><td class="markdownTableBodyLeft">0.01 uF   </td><td class="markdownTableBodyLeft">0805    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Capacitor   </td><td class="markdownTableBodyLeft">22 uF   </td><td class="markdownTableBodyLeft">1206    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyLeft">Resistors   </td><td class="markdownTableBodyLeft">varies   </td><td class="markdownTableBodyLeft">0805    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Diode   </td><td class="markdownTableBodyLeft">&gt;1A Schottky   </td><td class="markdownTableBodyLeft">varies   </td></tr>
</table>
<p>The set of four resistors can be used to set the IMU's I<sup>2</sup>C bus address and can usually be left off; any value between about 560 ohms and 10K should work if these are needed. The diode can be any old surface mounted Schottky which can fit on the pads and handle around an amp or more. The capacitors are all generic decoupling capacitors.</p>
<h1><a class="anchor" id="build_sob"></a>
Building the Board</h1>
<p>The Shoe of Brian is mostly pretty easy to solder, though there are four surface mount components to test one's skills, visual acuity, and patience. It is recommended to solder the USB connector first, then the resistors and ferrite bead next to it. The USB connector needs to be soldered carefully, in particular making sure that the mounting feet are well attached to the pads; if they are not, bending a USB cable may tear the connector from the board. Then if you're sufficiently experienced with SMD soldering or just crazy, add the IMU and its capacitors. If using the Micro-SD card connector, add that next, and lastly solder the 2x19 headers and screw terminals. The specified screw terminals have to be squished together a bit so that they can all fit, so place all three terminal blocks in the board first, then solder all three; <em>do</em> <em>not</em> solder one screw terminal block before adding another, or you probably won't be able to get the second or third terminal block to fit into the board.</p>
<h1><a class="anchor" id="prog_sob"></a>
Flashing</h1>
<p>The following procedure is used to flash MicroPython onto the Nucleo:</p>
<ul>
<li>Obtain an up-to-date copy of the compiled MicroPython binary file from this repository's main folder.</li>
<li>Unplug the Nucleo from USB</li>
<li>Move the jumper near the reset switch on the Nucleo from E5V to U5V</li>
<li>Plug in the Nucleo's (not the shoe's) USB connector to the PC</li>
<li>Drag the firmware*.bin file into the NODE_L476xx directory</li>
<li>Wait for the red-green blinking to stop, then restart, then stop again</li>
<li>Wait another 10 seconds or so</li>
<li>Unplug USB from the Nucleo</li>
<li>Move the jumper near the reset switch on the Nucleo from U5V to E5V</li>
<li>Plug the USB cable into the Shoe and MicroPython should be there</li>
</ul>
<h1><a class="anchor" id="feat_sob"></a>
Features</h1>
<h2><a class="anchor" id="mag_sob"></a>
IMU Axes</h2>
<p>A quirk of the LSM9DS1 IMU is that the X axis for the magnetometer is <em>not</em> in the same direction as the X axis of the accelerometer and rate gyro. Software should take this into account.</p>
<h2><a class="anchor" id="pry_sob"></a>
Disassembly</h2>
<p>The 2x19 pin headers grip the Nucleo<sup>TM</sup> headers very firmly and are difficult to remove. If the boards must be separated, prying them very slowly apart with a large flat screwdriver usually works. The screwdriver can be placed atop the screw terminal blocks to pry one end of the board upward and used in the gap between the top of the 2x19 headers and the Nucleo board on the other end. <b>Always</b> keep the boards nearly parallel to one another, prying each end up by 1-2 mm and going to the other end, back and forth several times.</p>
<h2><a class="anchor" id="mount_sob"></a>
Mounting</h2>
<p>The mounting holes are sized for small #4-40 screws and are close to traces and components; use mounting screws with small diameter heads, and insulating washers on both sides of the board may be a good idea.</p>
<h1><a class="anchor" id="name_sob"></a>
What's With the Name?</h1>
<p>It's a Shoe because the other circuit boards stand upon it. Because the board is designed for (Micro)Python, its name is of course a Python reference:</p>
<p><a href="https://www.youtube.com/watch?v=Ym-k5viJ7tA">https://www.youtube.com/watch?v=Ym-k5viJ7tA</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Feb 27 2024 21:50:10 for ME405 Library by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
